{% extends "home/base.html" %}{% block title %}goXplor{% endblock %} {% block body %} {% load static %}

<section class="home">
  <div class="slider">
    <div class="slide active" style="background-image:url('/static/home/images/himalaya.jpg')">
      <div class="container">
        <div class="caption">
          <h1>1. Some text</h1>
          <p>Lorem ipsum some dummy text.</p>
          <a href="#">Book Now</a>
        </div>
      </div>
    </div>
    <div class="slide" style="background-image:url('/static/home/images/himalaya1.jpg')">
      <div class="container">
        <div class="caption">
          <h1>2. Some text</h1>
          <p>Lorem ipsum some dummy text.</p>
          <a href="#">Book Now</a>
        </div>
      </div>
    </div>
    <div class="slide" style="background-image:url('/static/home/images/slider3.jpg')">
      <div class="container">
        <div class="caption">
          <h1>3. Some text</h1>
          <p>Lorem ipsum some dummy text.</p>
          <a href="#">Book Now</a>
        </div>
      </div>
    </div>
  </div>

  <div class="controls">
    <div class="prev">
      < </div>
        <div class="next">></div>
    </div>
    <div class="ftco-section bg-light" id="cards">
      <div class="container card-styles">
        <div class="row">
          <div class="col-md-4">
            <div class="card">
              <div class="icon-wrap px-4 pt-4">
                <div class="icon d-flex justify-content-center align-items-center bg-info rounded-circle">
                  <span class="ion-logo-ionic text-light"></span>
                </div>
              </div>
              <div class="card-body pb-5 px-4">
                <h5 class="card-title">Card title treatment</h5>
                <p class="card-text">With supporting text below as a natural lead-in to additional content. A small
                  river
                  named Duden flows by their place and supplies it with the necessary regelialia.</p>
                <a href="#" class="btn btn-info">Go somewhere</a>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card">
              <div class="icon-wrap px-4 pt-4">
                <div class="icon d-flex justify-content-center align-items-center bg-success rounded-circle">
                  <span class="ion-logo-ionic text-light"></span>
                </div>
              </div>
              <div class="card-body pb-5 px-4">
                <h5 class="card-title">Card title treatment</h5>
                <p class="card-text">With supporting text below as a natural lead-in to additional content. A small
                  river
                  named Duden flows by their place and supplies it with the necessary regelialia.</p>
                <a href="#" class="btn btn-success">Go somewhere</a>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card">
              <div class="icon-wrap px-4 pt-4">
                <div class="icon d-flex justify-content-center align-items-center bg-warning rounded-circle">
                  <span class="ion-logo-ionic text-light"></span>
                </div>
              </div>
              <div class="card-body pb-5 px-4">
                <h5 class="card-title">Card title treatment</h5>
                <p class="card-text">With supporting text below as a natural lead-in to additional content. A small
                  river
                  named Duden flows by their place and supplies it with the necessary regelialia.</p>
                <a href="#" class="btn btn-warning">Go somewhere</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</section>
<!-- <div class="container">
  <div class="split left">
    <div class="centered">
      <img src="/static/home/images/Travel.jpg" alt="...">

    </div>
  </div>


  <div class="split right">
    <div class="centered">
      <span class="subheading">Get in touch with us</span>
      <h2 class="mb-4">Get Best Travel Deals</h2>
      <p>A small river named Duden flows by their place and supplies it with the necessary regelialia. It is a
        paradisematic country, in which roasted parts of sentences fly into your mouth.</p>
      <p>Even the all-powerful Pointing has no control about the blind texts it is an almost unorthographic life
        One day however a small line of blind text by the name of Lorem Ipsum decided to leave for the far World
        of Grammar.</p>
      <p>A small river named Duden flows by their place and supplies it with the necessary regelialia. It is a
        paradisematic country, in which roasted parts of sentences fly into your mouth.</p>
      <p><a href="#" class="btn btn-primary py-3 px-4">Book now</a> <a href="{% url 'contact' %}"
          class="btn btn-white py-3 px-4">Contact us</a></p>
    </div>
  </div>

</div> -->


<div class="container">


  {% for destination, range, nSlides in allDest %}
  <h5 class="my-4">Flash Sale On {{destination.0.category}} - Recommended Places</h5>
  <div id="demo{{forloop.counter}}" class="col carousel slide my-3" data-ride="carousel">
    <ul class="carousel-indicators">
      <li data-target="#demo{{forloop.counter}}" data-slide-to="0" class="active"></li>

      {% for i in range %}
      <li data-target="#demo{{forloop.parentloop.counter}}" data-slide-to="{{i}}"></li>
      {% endfor %}
    </ul>

    <!--Slideshow starts here -->
    <div class="container carousel-inner no-padding">
      <div class="carousel-item active">


        {% for i in destination %}
        <div class="col-xs-3 col-sm-3 col-md-3">
          <div class="card" style="width: 18rem;">
            <img src="/media/{{i.image}}" class="card-img-top" alt="..." />
            <div class="card-body">
              <h5 class="card-title">{{i.name}}</h5>
              <p class="card-offer">{{i.offer}}</p>
              <p class="card-text">{{i.description}}</p>
              <a href="#" class="btn btn-primary">Know more</a>
            </div>
          </div>
        </div>
        {% if forloop.counter|divisibleby:4 and forloop.counter > 0 and not forloop.last %}
      </div>
      <div class="carousel-item">
        {% endif %}

        {% endfor %}
      </div>
    </div>
  </div>
  <!-- left and right controls for the slide -->
  <a class="carousel-control-prev" href="#demo{{forloop.counter}}" data-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </a>
  <a class="carousel-control-next" href="#demo{{forloop.counter}}" data-slide="next">
    <span class="carousel-control-next-icon"></span>
  </a>
  {% endfor %}
</div>
<section class="container" style="margin-top: 40px;">
  <h3 style="text-align: center;">Why Choose Us..</h3>
  <div class="row">
    <div class="column">
      <div class="card1">
        <p><i class="fa fa-user"></i></p>
        <h3>11+</h3>
        <p>Partners</p>
      </div>
    </div>

    <div class="column">
      <div class="card1">
        <p><i class="fa fa-check"></i></p>
        <h3>55+</h3>
        <p>Projects</p>
      </div>
    </div>

    <div class="column">
      <div class="card1">
        <p><i class="fa fa-smile-o"></i></p>
        <h3>100+</h3>
        <p>Happy Clients</p>
      </div>
    </div>

    <div class="column">
      <div class="card1">
        <p><i class="fa fa-coffee"></i></p>
        <h3>100+</h3>
        <p>Meetings</p>
      </div>
    </div>
  </div>
</section>

<section class="container" id="about-section">
  <div class="container">
    <div class="row no-gutters d-flex">
      <div class="col-md-6 col-lg-5 d-flex">
        <div class="img d-flex align-self-stretch align-items-center">
          <img src="/static/home/images/Travel.jpg" alt="..." style="width: 100%;">
        </div>
      </div>
      <div class="col-md-6 col-lg-7 px-lg-5 py-md-5 bg-darken">
        <div class="py-md-5">
          <div class="row justify-content-start pb-3">
            <div class="col-md-12 heading-section ftco-animate p-5 p-lg-0">

              <h2 class="mb-4">Get Best Travel Deals</h2>
              <p>A small river named Duden flows by their place and supplies it with the necessary regelialia. It is a
                paradisematic country, in which roasted parts of sentences fly into your mouth.</p>
              <p>Even the all-powerful Pointing has no control about the blind texts it is an almost unorthographic life
                One day however a small line of blind text by the name of Lorem Ipsum decided to leave for the far World
                of Grammar.</p>
              <p>A small river named Duden flows by their place and supplies it with the necessary regelialia. It is a
                paradisematic country, in which roasted parts of sentences fly into your mouth.</p>
              <p><a href="#" class="btn btn-primary py-3 px-4">Book now</a> <a href="{% url 'contact' %}"
                  class="btn btn-white py-3 px-4">Contact us</a></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


{% endblock %}
{% block js %}
<script>


  const slides = document.querySelector(".slider").children;

  const prev = document.querySelector(".prev");
  const next = document.querySelector(".next");
  let index = 0;

  prev.addEventListener("click", function () {
    prevSlide();
    resetTimer();
  })

  next.addEventListener("click", function () {
    nextSlide();
    resetTimer();
  })

  function prevSlide() {
    if (index == 0) {
      index = slides.length - 1;
    }
    else {
      index--;
    }
    changeSlide();
  }


  function nextSlide() {
    if (index == slides.length - 1) {
      index = 0;
    }
    else {
      index++;
    }
    changeSlide();
  }

  function changeSlide() {
    for (let i = 0; i < slides.length; i++) {
      slides[i].classList.remove("active");
    }
    slides[index].classList.add("active");
  }

  function resetTimer() {
    clearInterval(timer)
    timer = setInterval(autoplay, 6000)
  }

  function autoplay() {
    nextSlide();

  }

  let timer = setInterval(autoplay, 6000);

</script>
{% endblock %}